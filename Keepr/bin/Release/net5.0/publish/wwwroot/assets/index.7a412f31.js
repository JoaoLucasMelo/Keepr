import{r as oe,c as b,a as $,o as _,b as m,d as t,e as j,F as q,f as se,S as F,u as D,g as Q,M as A,w as M,t as p,p as K,h as I,i as P,j as ne,k as E,l as C,m as y,v as k,n as le,q as re,s as ie,x as ce,y as W,z as de,A as ue,B as _e,C as me}from"./vendor.7c4d75cf.js";const pe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}};pe();const l=oe({user:{},account:{},keeps:[],activeProfile:{},activeProfVaults:[],activeProfKeeps:[],activeVaultKeeps:[],activeVault:{},activeKeep:{},myVaults:[],vaultsAlreadyIn:[]});var x=(s,e)=>{for(const[o,a]of e)s[o]=a;return s};const ve={name:"App",setup(){return{appState:b(()=>l)}}},fe={class:"container-fluid"},ge={class:"container-fluid back scrollbar"},he={class:"row"},be=t("footer",null,null,-1);function ye(s,e,o,a,n,i){const r=$("NavigationBar"),d=$("router-view");return _(),m(q,null,[t("header",fe,[j(r,{class:"row p-0 fixed-top"})]),t("main",ge,[t("div",he,[j(d)])]),be],64)}var we=x(ve,[["render",ye]]);const Y=window.location.origin.includes("localhost"),G=Y?"https://localhost:5001":"",ke="john-codeworks.us.auth0.com",xe="UQuN3ny3HsAeAStMEfZDLZE85IqdrOg3",Ve="https://JohnDev.com";function T(s,e){if(Y)console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(s){case"log":case"assert":return}console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const v={log(){T("log",arguments)},error(){T("error",arguments)},warn(){T("warn",arguments)},assert(){T("assert",arguments)},trace(){T("trace",arguments)}},u=se.create({baseURL:G,timeout:8e3});class Ke{async getAccount(){try{const e=await u.get("/account");l.account=e.data}catch(e){v.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async getVaults(){const e=await u.get("account/vaults");l.activeProfVaults=e.data}async getVaultsThisAccount(){const e=await u.get("account/vaults");l.myVaults=e.data}async editProfile(e){const o=await u.put("/account",e);l.account=o.data,l.activeProfile=o.data}}const R=new Ke;class Ie{async getProfile(e){const o=await u.get("api/profiles/"+e);l.activeProfile=o.data}async getVaults(e){if(e===l.account.id)R.getVaults();else{const o=await u.get("api/profiles/"+e+"/vaults");l.activeProfVaults=o.data}}async getKeeps(e){const o=await u.get("api/profiles/"+e+"/keeps");l.activeProfKeeps=o.data}}const H=new Ie;class f{static async confirm(e="Are you sure?",o="You won't be able to revert this!",a="warning",n="Yes, delete it!"){try{return!!(await F.fire({title:e,text:o,icon:a,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:n})).isConfirmed}catch{return!1}}static toast(e="Warning!",o="warning",a="top-end",n=3e3,i=!0){F.fire({title:e,icon:o,position:a,timer:n,timerProgressBar:i,toast:!0,showConfirmButton:!1})}}class Ce{async getAll(){const e=await u.get("api/keeps");l.keeps=e.data}async getByVaultKeeps(e){const o=await u.get("api/vaults/"+e+"/keeps");l.activeVaultKeeps=o.data}async getKeepById(e){const o=await u.get("api/keeps/"+e);l.activeKeep=o.data}async createKeep(e){const o=await u.post("api/keeps",e);l.activeProfKeeps.push(o.data)}async removeKeep(e){var i,r,d;await u.delete("api/keeps/"+e);let o=(i=l.keeps)==null?void 0:i.filter(c=>c.id!==e);l.keeps=o;let a=(r=l.activeProfKeeps)==null?void 0:r.filter(c=>c.id!==e);l.activeProfKeeps=a;let n=(d=l.activeVaultKeeps)==null?void 0:d.filter(c=>c.id!==e);l.activeVaultKeeps=n}async addKeepToVault(e,o){await u.post("api/vaultkeeps",{keepId:e,vaultId:o})}async removeKeepFromVault(e){await u.delete("api/vaultkeeps/"+e);let o=l.activeVaultKeeps.filter(a=>a.vaultKeepId!==e);l.activeVaultKeeps=o}async querySearch(e){let a=(await u.get("api/Query?search=%"+e+"%")).data;l.keeps=a}async getVaultsAlreadyIn(e){let o=[];for(let a=0;a<l.myVaults.length;a++){let n=[],i=[];i=(await u.get("api/vaults/"+l.myVaults[a].id+"/keeps")).data,n=i.filter(d=>d.id===e),n.length>=1&&o.push(l.myVaults[a])}l.vaultsAlreadyIn=o}async editKeep(e,o){const a=await u.put("api/keeps/"+e,o);l.activeKeep=a.data}}const w=new Ce;const Se={props:{keep:{type:Object,required:!0},vault:{type:Object}},setup(s){const e=D();return{route:Q(),router:e,img:b(()=>s.keep.img),user:b(()=>l.user),account:b(()=>l.account),async profile(a){try{await H.getProfile(a),e.push({name:"Profile",params:{id:a}})}catch(n){v.error(n),f.toast(n.message,"error")}},async keepModal(a){try{await w.getVaultsAlreadyIn(s.keep.id),await w.getKeepById(s.keep.id),A.getOrCreateInstance(document.getElementById("a"+a+"a")).toggle()}catch(n){v.error(n),f.toast(n.message,"error")}},async removeKeepFromVault(a){try{await f.confirm()&&(await w.removeKeepFromVault(a),f.toast("Keep removed from this Vault","success"))}catch(n){v.error(n),f.toast(n.message,"error")}}}}},Ae=s=>(K("data-v-4da74454"),s=s(),I(),s),Pe={class:"Keep"},Ee=["title"],Te=["src"],Ne={class:"card-img-overlay d-flex flex-column justify-content-between w-100"},Oe={key:0,class:"text-end"},$e=Ae(()=>t("i",{class:"mdi mdi-close text-danger mdi-24px"},null,-1)),je=[$e],De={key:1},Me=["title"],Be={class:"card-text name font m-0"},Le=["src"];function Ue(s,e,o,a,n,i){var d;const r=$("KeepModal");return _(),m(q,null,[t("div",Pe,[t("div",{title:o.keep.name},[t("div",{onClick:e[2]||(e[2]=c=>a.keepModal(o.keep.id)),class:"card carddiv border-0 grow selectable"},[t("img",{class:"card-img image",src:o.keep.img,alt:""},null,8,Te),t("div",Ne,[a.route.name==="Vault"&&a.user.isAuthenticated&&o.vault.creatorId===((d=a.account)==null?void 0:d.id)?(_(),m("div",Oe,[t("button",{onClick:e[0]||(e[0]=M(c=>a.removeKeepFromVault(o.keep.vaultKeepId),["stop"])),title:"Remove from this Vault",class:"btn font p-0"},je)])):(_(),m("div",De)),t("div",{class:"d-flex w-100 justify-content-between",title:"Go to "+o.keep.creator.name+"'s Profile"},[t("p",Be,p(o.keep.name),1),t("button",{onClick:e[1]||(e[1]=M(c=>a.profile(o.keep.creatorId),["stop"])),class:"btn p-0"},[t("img",{class:"profpic",src:o.keep.creator.picture,alt:""},null,8,Le)])],8,Me)])])],8,Ee)]),j(r,{keep:o.keep},null,8,["keep"])],64)}var qe=x(Se,[["render",Ue],["__scopeId","data-v-4da74454"]]),Re=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qe});const z={props:{keep:{type:Object,required:!0}},setup(s){const e=D();let o=P(!1),a=P({});return{edit:o,editable:a,router:e,imgUrl:b(()=>`url(${s.keep.img})`),activeKeep:b(()=>l.activeKeep),account:b(()=>l.account),user:b(()=>l.user),myVaults:b(()=>l.myVaults),vaultsAlreadyIn:b(()=>l.vaultsAlreadyIn),async profile(n){try{await H.getProfile(n),e.push({name:"Profile",params:{id:n}}),A.getOrCreateInstance(document.getElementById("a"+s.keep.id+"a")).hide()}catch(i){v.error(i),f.toast(i.message,"error")}},async removeKeep(n){try{await f.confirm()&&(A.getOrCreateInstance(document.getElementById("a"+s.keep.id+"a")).toggle(),await w.removeKeep(n),f.toast("Keep deleted!","success"))}catch(i){v.error(i),f.toast(i.message,"error")}},async addKeepToVault(n,i){try{await w.addKeepToVault(n,i),await w.getVaultsAlreadyIn(n),l.activeKeep.keeps++,f.toast("Keep added","success")}catch(r){v.error(r),f.toast(r.message,"error")}},async editKeep(){try{await w.editKeep(this.activeKeep.id,a.value),o.value=!o.value,a.value={}}catch(n){v.log(n),f.toast(n.message,"error")}}}}},Z=()=>{ne(s=>({"26cf8c20":s.imgUrl}))},J=z.setup;z.setup=J?(s,e)=>(Z(),J(s,e)):Z;const He=z,V=s=>(K("data-v-0e863c9d"),s=s(),I(),s),ze={class:"KeepModal"},Fe=["id"],Qe={class:"modal-dialog modal-dialog-centered modal-xl"},We={class:"modal-content"},Ye={class:"modal-body row modalcard m-0"},Ge=V(()=>t("div",{class:"col-md-6 backpic p-0"},null,-1)),Ze={class:"col-md-6"},Je=V(()=>t("div",{class:"text-end"},[t("button",{type:"button",class:"btn-close me-4 mt-md-4","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Xe={class:"d-flex heigth flex-column justify-content-between"},et={class:"row"},tt={class:"font d-flex justify-content-center"},at={class:"d-flex align-items-center f-14 me-4"},ot=["title"],st={class:"d-flex align-items-center f-14"},nt=["title"],lt={key:0,class:"row text-center d-flex justify-content-center"},rt={class:"d-flex align-items-center justify-content-center"},it={class:"keepname font m-0"},ct={class:"keepdesc font text-wrap"},dt={key:1,class:"row font d-flex justify-content-center"},ut={class:"mb-3"},_t=V(()=>t("label",{for:"KeepName",class:"form-label"},"Keep Name:",-1)),mt={class:"text-end me-2"},pt={class:"mb-3"},vt=V(()=>t("label",{for:"KeepDescription",class:"form-label"},"Description:",-1)),ft={class:"text-end me-2"},gt={class:"text-center mt-3"},ht=V(()=>t("button",{type:"submit",class:"btn btn-outline-danger"}," Save ",-1)),bt={key:2,class:"row text-center d-flex justify-content-center"},yt={class:"keepname font m-0"},wt={class:"keepdesc font text-wrap"},kt=V(()=>t("div",{class:"row justify-content-center py-3"},[t("div",{class:"line"})],-1)),xt={class:"row"},Vt={class:"mt-3 d-flex"},Kt={class:"col-4 d-flex justify-content-center"},It={key:0,class:"dropdown font"},Ct=V(()=>t("a",{class:"btn btn-outline-danger dropdown-toggle",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false"}," Add to Vault ",-1)),St={class:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},At=["title","onClick"],Pt={class:"col-2 d-flex justify-content-center"},Et=["title"],Tt={class:"font profilename m-0 me-3 f-14"},Nt=["src"];function Ot(s,e,o,a,n,i){var r,d,c;return _(),m("div",ze,[t("div",{class:"modal blur fade",id:"a"+o.keep.id+"a",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Qe,[t("div",We,[t("div",Ye,[Ge,t("div",Ze,[Je,t("div",Xe,[t("div",null,[t("div",et,[t("div",tt,[t("p",at,[t("i",{title:"Viewed "+a.activeKeep.views+" times",class:"mdi mdi-24px mdi-eye-outline color me-2"},null,8,ot),E(" "+p(a.activeKeep.views),1)]),t("p",st,[t("i",{title:"Kept "+a.activeKeep.keeps+" times",class:"mdi mdi-24px mdi-alpha-k-circle color me-2"},null,8,nt),E(" "+p(a.activeKeep.keeps),1)])])]),a.account.id===o.keep.creatorId&&a.edit===!1?(_(),m("div",lt,[t("div",rt,[t("p",it,p(a.activeKeep.name),1),t("i",{onClick:e[0]||(e[0]=g=>a.edit=!a.edit),title:"Edit Keep",class:"mdi mdi-24px mdi-pencil ms-3 text-danger pb-2 action"})]),t("p",ct,p(a.activeKeep.description),1)])):C("",!0),a.account.id===o.keep.creatorId&&a.edit===!0?(_(),m("div",dt,[t("form",{onSubmit:e[4]||(e[4]=M((...g)=>a.editKeep&&a.editKeep(...g),["prevent"]))},[t("div",ut,[_t,y(t("input",{type:"text",class:"form-control",id:"KeepName",placeholder:"Keep Name...",maxlength:"15","onUpdate:modelValue":e[1]||(e[1]=g=>a.editable.name=g)},null,512),[[k,a.editable.name]]),t("div",mt,[t("i",null,[t("small",null,p(((r=a.editable.name)==null?void 0:r.length)?a.editable.name.length:0)+" /15",1)])])]),t("div",pt,[vt,y(t("textarea",{type:"text",class:"form-control",id:"KeepDescription",placeholder:"Description...",maxlength:"200","onUpdate:modelValue":e[2]||(e[2]=g=>a.editable.description=g)},null,512),[[k,a.editable.description]]),t("div",ft,[t("i",null,[t("small",null,p(((d=a.editable.description)==null?void 0:d.length)?a.editable.description.length:0)+" /200",1)])])]),t("div",gt,[t("button",{onClick:e[3]||(e[3]=g=>a.edit=!a.edit),class:"btn me-2"}," Cancel "),ht])],32)])):C("",!0),a.account.id!==o.keep.creatorId?(_(),m("div",bt,[t("p",yt,p(o.keep.name),1),t("p",wt,p(o.keep.description),1)])):C("",!0)]),t("div",null,[kt,t("div",xt,[t("div",Vt,[t("div",Kt,[a.user.isAuthenticated?(_(),m("div",It,[Ct,t("ul",St,[(_(!0),m(q,null,le(a.myVaults,g=>(_(),m("li",{key:g.id,class:re(a.vaultsAlreadyIn.find(O=>O.id===g.id)?"disabled":"")},[t("a",{title:a.vaultsAlreadyIn.find(O=>O.id===g.id)?"Already in this Vault":"",onClick:O=>a.addKeepToVault(o.keep.id,g.id),class:"dropdown-item action"},p(g.name),9,At)],2))),128))])])):C("",!0)]),t("div",Pt,[((c=a.account)==null?void 0:c.id)===o.keep.creatorId?(_(),m("i",{key:0,onClick:e[5]||(e[5]=g=>a.removeKeep(o.keep.id)),title:"Remove this Keep",class:"mdi mdi-24px mdi-trash-can action deletebtn ms-5"})):C("",!0)]),t("div",{title:"Go to "+o.keep.creator.name+"'s Profile",onClick:e[6]||(e[6]=g=>a.profile(o.keep.creatorId)),class:"action col-6 d-flex justify-content-center align-items-center"},[t("p",Tt,p(o.keep.creator.name),1),t("img",{class:"profpic",src:o.keep.creator.picture,alt:""},null,8,Nt)],8,Et)])])])])])])])])],8,Fe)])}var $t=x(He,[["render",Ot],["__scopeId","data-v-0e863c9d"]]),jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$t});const Dt="modulepreload",X={},Mt="/",B=function(e,o){return!o||o.length===0?e():Promise.all(o.map(a=>{if(a=`${Mt}${a}`,a in X)return;X[a]=!0;const n=a.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${i}`))return;const r=document.createElement("link");if(r.rel=n?"stylesheet":Dt,n||(r.as="script",r.crossOrigin=""),r.href=a,document.head.appendChild(r),n)return new Promise((d,c)=>{r.addEventListener("load",d),r.addEventListener("error",c)})})).then(()=>e())};function Bt(s){switch(s){case"./pages/AboutPage.vue":return B(()=>import("./AboutPage.7cc97b3b.js"),["assets/AboutPage.7cc97b3b.js","assets/vendor.7c4d75cf.js"]);case"./pages/HomePage.vue":return B(()=>import("./HomePage.49c3dc20.js"),["assets/HomePage.49c3dc20.js","assets/HomePage.e5ca395d.css","assets/vendor.7c4d75cf.js"]);case"./pages/ProfilePage.vue":return B(()=>import("./ProfilePage.7ba176d2.js"),["assets/ProfilePage.7ba176d2.js","assets/ProfilePage.fef58159.css","assets/vendor.7c4d75cf.js"]);case"./pages/VaultPage.vue":return B(()=>import("./VaultPage.dba2a3b0.js"),["assets/VaultPage.dba2a3b0.js","assets/VaultPage.37ee6269.css","assets/vendor.7c4d75cf.js"]);default:return new Promise(function(e,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+s)))})}}function L(s){return()=>Bt(`./pages/${s}.vue`)}const Lt=[{path:"/",name:"Home",component:L("HomePage")},{path:"/about",name:"About",component:L("AboutPage")},{path:"/profile/:id",name:"Profile",component:L("ProfilePage"),beforeEnter:W},{path:"/vault/:id",name:"Vault",component:L("VaultPage"),beforeEnter:W}],ee=ie({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:ce(),routes:Lt}),Ut={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class qt{constructor(e=!1,o=G){}on(e,o){var a;return(a=this.socket)==null||a.on(e,o.bind(this)),this}onConnected(e){v.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){v.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var o;(o=this.socket)==null||o.emit(Ut.authenticate,e)}onError(e){v.error("[SOCKET_ERROR]",e)}enqueue(e,o){v.log("[ENQUEING_ACTION]",{action:e,payload:o}),this.queue.push({action:e,payload:o})}playback(){v.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(o=>{this.emit(o.action,o.payload)})}emit(e,o=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,o);if(!this.connected)return this.enqueue(e,o);this.socket.emit(e,o)}}class Rt extends qt{constructor(){super();this.on("error",this.onError)}onError(e){f.toast(e.message,"error")}}const te=new Rt,h=de({domain:ke,clientId:xe,audience:Ve,useRefreshTokens:!0,onRedirectCallback:s=>{ee.push(s&&s.targetUrl?s.targetUrl:window.location.pathname)}});h.on(h.AUTH_EVENTS.AUTHENTICATED,async function(){u.defaults.headers.authorization=h.bearer,u.interceptors.request.use(Ht),l.user=h.user,await R.getAccount(),te.authenticate(h.bearer),await R.getVaultsThisAccount()});async function Ht(s){if(!h.isAuthenticated)return s;const e=h.identity.exp*1e3,o=e<Date.now(),a=e<Date.now()+1e3*60*60*12;return o?await h.loginWithPopup():a&&(await h.getTokenSilently(),u.defaults.headers.authorization=h.bearer,te.authenticate(h.bearer)),s}var zt="/assets/cw-logo.71baeadb.png";const Ft={setup(){return{user:b(()=>l.user),async login(){h.loginWithPopup()},async logout(){h.logout({returnTo:window.location.origin})}}}},U=s=>(K("data-v-0abf2bea"),s=s(),I(),s),Qt={class:"navbar navbar-expand-lg navbar-dark bg-dark px-3"},Wt=U(()=>t("div",{class:"d-flex flex-column align-items-center"},[t("img",{alt:"logo",src:zt,height:"45"})],-1)),Yt=U(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1)),Gt={class:"collapse navbar-collapse",id:"navbarText"},Zt=U(()=>t("ul",{class:"navbar-nav me-auto"},[t("li")],-1)),Jt={class:"navbar-text"},Xt={key:1,class:"dropdown my-2 my-lg-0"},ea={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},ta=["src"],aa={class:"mx-3 text-success lighten-30"},oa={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},sa=U(()=>t("i",{class:"mdi mdi-logout"},null,-1)),na=E(" logout "),la=[sa,na];function ra(s,e,o,a,n,i){const r=$("router-link");return _(),m("nav",Qt,[j(r,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:ue(()=>[Wt]),_:1}),Yt,t("div",Gt,[Zt,t("span",Jt,[a.user.isAuthenticated?(_(),m("div",Xt,[t("div",ea,[t("img",{src:a.user.picture,alt:"user photo",height:"40",class:"rounded"},null,8,ta),t("span",aa,p(a.user.name),1)]),t("div",oa,[t("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...d)=>a.logout&&a.logout(...d))},la)])])):(_(),m("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...d)=>a.login&&a.login(...d))}," Login "))])])])}var ia=x(Ft,[["render",ra],["__scopeId","data-v-0abf2bea"]]),ca=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ia}),da="/assets/K.4cc766ad.png";const ua={setup(){let s=P("");const e=D(),o=Q();return{userInput:s,route:o,router:e,account:b(()=>l.account),homepage(){e.push({name:"Home"}),w.getAll()},user:b(()=>l.user),async login(){h.loginWithPopup()},async profile(){try{await H.getProfile(this.account.id),e.push({name:"Profile",params:{id:this.account.id}})}catch(a){v.error(a),f.toast(a.message,"error")}},async querySearch(){try{await w.querySearch(s.value),s.value=""}catch(a){v.error(a),f.toast(a.message,"error")}}}}},_a=s=>(K("data-v-372bb8c4"),s=s(),I(),s),ma={class:"NavigationBar elevation-3"},pa={class:"navbar p-0 d-flex justify-content-between"},va={class:"font"},fa={class:"searchBar"},ga=_a(()=>t("button",{id:"searchQuerySubmit",type:"submit",name:"searchQuerySubmit"},[t("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},[t("path",{fill:"#666666",d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"})])],-1)),ha={key:1},ba={class:"me-3 desktop"},ya={class:"font m-0"},wa={class:"me-4"},ka=["src"],xa={key:2,class:"me-md-5 me-4"};function Va(s,e,o,a,n,i){return _(),m("div",ma,[t("div",pa,[t("div",null,[t("img",{title:"Home",onClick:e[0]||(e[0]=r=>a.homepage()),class:"img-fluid logo action",src:da,alt:""})]),a.route.name==="Home"?(_(),m("form",{key:0,onSubmit:e[2]||(e[2]=M((...r)=>a.querySearch&&a.querySearch(...r),["prevent"]))},[t("div",va,[t("div",fa,[y(t("input",{id:"searchQueryInput",type:"text",name:"searchQueryInput",placeholder:"Search...","onUpdate:modelValue":e[1]||(e[1]=r=>a.userInput=r)},null,512),[[k,a.userInput]]),ga])])],32)):C("",!0),a.user.isAuthenticated?(_(),m("div",ha,[t("div",{class:"d-flex align-items-center action",title:"Go to Profile",onClick:e[3]||(e[3]=r=>a.profile())},[t("div",ba,[t("p",ya,p(a.account.name),1)]),t("div",wa,[t("img",{class:"profpic",src:a.account.picture,alt:""},null,8,ka)])])])):(_(),m("div",xa,[t("button",{onClick:e[4]||(e[4]=(...r)=>a.login&&a.login(...r)),class:"btn btn-danger font loginbtn"}," Login ")]))])])}var Ka=x(ua,[["render",Va],["__scopeId","data-v-372bb8c4"]]),Ia=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ka});const Ca={setup(){let s=P({});return{newKeep:s,async createKeep(){try{await w.createKeep(s.value),s.value={};const e=document.getElementById("newKeepModal");A.getOrCreateInstance(e).hide()}catch(e){v.error(e),f.toast(e.message,"error")}}}}},N=s=>(K("data-v-0939d0a3"),s=s(),I(),s),Sa={class:"NewKeep"},Aa={class:"modal fade",id:"newKeepModal",tabindex:"-1","aria-labelledby":"newKeepModal","aria-hidden":"true"},Pa={class:"modal-dialog border-3"},Ea={class:"modal-content"},Ta=N(()=>t("div",{class:"modal-header"},[t("h4",{class:"modal-title font"},"New Keep"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Na={class:"modal-body font"},Oa=N(()=>t("label",{for:"KeepName",class:"form-label"},"Keep Name:",-1)),$a={class:"text-end me-2"},ja={class:"mb-3"},Da=N(()=>t("label",{for:"KeepImg",class:"form-label"},"Image:",-1)),Ma=N(()=>t("label",{for:"KeepDescription",class:"form-label"},"Description:",-1)),Ba={class:"text-end me-2"},La={class:"modal-footer"},Ua=N(()=>t("button",{type:"button",class:"btn text-secondary","data-bs-dismiss":"modal"}," Cancel ",-1));function qa(s,e,o,a,n,i){var r,d;return _(),m("div",Sa,[t("div",Aa,[t("div",Pa,[t("div",Ea,[Ta,t("div",Na,[t("form",null,[t("div",null,[Oa,y(t("input",{type:"text",class:"form-control",id:"KeepName",placeholder:"Keep Name...",maxlength:"15",required:"","onUpdate:modelValue":e[0]||(e[0]=c=>a.newKeep.name=c)},null,512),[[k,a.newKeep.name]]),t("div",$a,[t("i",null,[t("small",null,p(((r=a.newKeep.name)==null?void 0:r.length)?a.newKeep.name.length:0)+" /15",1)])])]),t("div",ja,[Da,y(t("input",{type:"text",class:"form-control",id:"KeepImage",placeholder:"Image URL...","onUpdate:modelValue":e[1]||(e[1]=c=>a.newKeep.img=c)},null,512),[[k,a.newKeep.img]])]),t("div",null,[Ma,y(t("textarea",{type:"text",class:"form-control",id:"KeepDescription",placeholder:"Description...",required:"",maxlength:"200","onUpdate:modelValue":e[2]||(e[2]=c=>a.newKeep.description=c)},null,512),[[k,a.newKeep.description]]),t("div",Ba,[t("i",null,[t("small",null,p(((d=a.newKeep.description)==null?void 0:d.length)?a.newKeep.description.length:0)+" /200",1)])])])])]),t("div",La,[Ua,t("button",{onClick:e[3]||(e[3]=(...c)=>a.createKeep&&a.createKeep(...c)),type:"button",class:"btn btn-danger"}," Post ")])])])])])}var Ra=x(Ca,[["render",qa],["__scopeId","data-v-0939d0a3"]]),Ha=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ra});class za{async getVault(e){const o=await u.get("api/vaults/"+e);l.activeVault=o.data}async createVault(e){const o=await u.post("api/vaults",e);l.activeProfVaults.push(o.data),l.myVaults.push(o.data)}async removeVault(e){var a;await u.delete("api/vaults/"+e);let o=(a=l.activeProfVaults)==null?void 0:a.filter(n=>n.id!==e);l.activeProfVaults=o}async editVault(e,o){const a=await u.put("api/vaults/"+e,o);l.activeVault=a.data}}const Fa=new za;const Qa={setup(){let s=P({});return{newVault:s,async createVault(){try{await Fa.createVault(s.value),s.value={};const e=document.getElementById("newVaultModal");A.getOrCreateInstance(e).hide()}catch(e){v.error(e),f.toast(e.message,"error")}}}}},S=s=>(K("data-v-49eacc29"),s=s(),I(),s),Wa={class:"NewVault"},Ya={class:"modal fade",id:"newVaultModal",tabindex:"-1","aria-labelledby":"newVaultModal","aria-hidden":"true"},Ga={class:"modal-dialog border-3"},Za={class:"modal-content"},Ja=S(()=>t("div",{class:"modal-header"},[t("h4",{class:"modal-title font"},"New Vault"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Xa={class:"modal-body font"},eo=S(()=>t("label",{for:"VaultName",class:"form-label"},"Vault Name:",-1)),to={class:"text-end me-2"},ao=S(()=>t("label",{for:"VaultDescription",class:"form-label"},"Vault Description:",-1)),oo={class:"text-end me-2"},so={class:"mb-4"},no=S(()=>t("label",{for:"VaultImg",class:"form-label"},[E("Vault Background Image: "),t("i",{class:"text-secondary"},[t("small",null,"(Optional) ")])],-1)),lo={class:"form-check"},ro=S(()=>t("label",{class:"form-check-label",for:"flexCheckDefault"},[E(" Private "),t("i",{class:"text-secondary"},[t("small",null,"(Can only be seen by you)")])],-1)),io={class:"modal-footer"},co=S(()=>t("button",{type:"button",class:"btn text-secondary","data-bs-dismiss":"modal"}," Cancel ",-1));function uo(s,e,o,a,n,i){var r,d;return _(),m("div",Wa,[t("div",Ya,[t("div",Ga,[t("div",Za,[Ja,t("div",Xa,[t("form",null,[t("div",null,[eo,y(t("input",{type:"text",class:"form-control",id:"vaultName",placeholder:"Vault Name...",maxlength:"20",required:"","onUpdate:modelValue":e[0]||(e[0]=c=>a.newVault.name=c)},null,512),[[k,a.newVault.name]]),t("div",to,[t("i",null,[t("small",null,p(((r=a.newVault.name)==null?void 0:r.length)?a.newVault.name.length:0)+" /20",1)])])]),t("div",null,[ao,y(t("input",{type:"text",class:"form-control",id:"vaultDescription",placeholder:"Vault Description...",maxlength:"50",required:"","onUpdate:modelValue":e[1]||(e[1]=c=>a.newVault.description=c)},null,512),[[k,a.newVault.description]]),t("div",oo,[t("i",null,[t("small",null,p(((d=a.newVault.description)==null?void 0:d.length)?a.newVault.description.length:0)+" /50",1)])])]),t("div",so,[no,y(t("input",{type:"text",class:"form-control",id:"vaultImage",placeholder:"Vault Background Image URL...","onUpdate:modelValue":e[2]||(e[2]=c=>a.newVault.imgUrl=c)},null,512),[[k,a.newVault.imgUrl]])]),t("div",lo,[y(t("input",{class:"form-check-input border-0",type:"checkbox",value:"true",id:"flexCheckDefault","onUpdate:modelValue":e[3]||(e[3]=c=>a.newVault.isPrivate=c)},null,512),[[_e,a.newVault.isPrivate]]),ro])])]),t("div",io,[co,t("button",{onClick:e[4]||(e[4]=(...c)=>a.createVault&&a.createVault(...c)),type:"button",class:"btn btn-danger"}," Create ")])])])])])}var _o=x(Qa,[["render",uo],["__scopeId","data-v-49eacc29"]]),mo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_o});const po={props:{vault:{type:Object,required:!0}},setup(){const s=D();return{router:s,async getByVaultKeeps(e){try{s.push({name:"Vault",params:{id:e}})}catch(o){v.error(o),f.toast(o.message,"error")}}}}},vo={class:"Vault"},fo=["title"],go=["src"],ho={class:"card-img-overlay d-flex align-items-end justify-content-between w-100"},bo={class:"card-text name font m-0"};function yo(s,e,o,a,n,i){return _(),m("div",vo,[t("div",null,[t("div",{title:o.vault.name,onClick:e[0]||(e[0]=r=>a.getByVaultKeeps(o.vault.id)),class:"card border-0 selectable"},[t("img",{class:"card-img image",src:o.vault.imgUrl,alt:""},null,8,go),t("div",ho,[t("p",bo,p(o.vault.name),1)])],8,fo)])])}var wo=x(po,[["render",yo],["__scopeId","data-v-6627d19c"]]),ko=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wo});function xo(s){Object.entries({"./components/Keep.vue":Re,"./components/KeepModal.vue":jt,"./components/Navbar.vue":ca,"./components/NavigationBar.vue":Ia,"./components/NewKeep.vue":Ha,"./components/NewVault.vue":mo,"./components/Vault.vue":ko}).forEach(([o,a])=>{const n=a.name||o.substr(o.lastIndexOf("/")+1).replace(/\.\w+$/,"");s.component(n,a.default)})}const ae=me(we);xo(ae);ae.use(ee).mount("#app");export{l as A,f as P,x as _,h as a,R as b,w as k,v as l,H as p,Fa as v};
